<!DOCTYPE html>
<html>
<head>
<title>Owner Panel</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  h2 { color: #333; }
  .section {
    background: #fff;
    padding: 15px 20px;
    margin: 10px 0;
    width: 500px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
  input, button {
    padding: 8px;
    margin: 5px 0;
    width: 100%;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  button {
    background-color: #4CAF50;
    color: white;
    border: none;
    cursor: pointer;
  }
  button:hover { background-color: #45a049; }
  .empItem {
    border:1px solid #ccc;
    margin:5px 0;
    padding:5px;
    display:flex;
    align-items:center;
    justify-content: space-between;
    border-radius: 5px;
  }
  .empItem img { border-radius: 50%; margin-right:10px; }
  .empInfo { display:flex; align-items:center; }
</style>
</head>
<body>

<h2>Owner Dashboard</h2>

<div class="section">
  <h3>Add Employee</h3>
  <input id="empId" placeholder="Employee ID">
  <input id="empName" placeholder="Employee Name">
  <input id="empPhoto" type="file">
  <input id="empSalary" type="number" placeholder="Per day salary">
  <button onclick="addEmployee()">Add Employee</button>
</div>

<div class="section">
  <h3>Employees List</h3>
  <div id="empList"></div>
</div>

<script>
let employees = JSON.parse(localStorage.getItem("employees") || "[]");

// Add new employee
function addEmployee(){
  let id = empId.value.trim();
  let name = empName.value.trim();
  let photoFile = empPhoto.files[0];
  let salary = parseFloat(empSalary.value);

  if(!id || !name || !photoFile || isNaN(salary)){
    alert("Please fill all fields and select a photo");
    return;
  }

  // Duplicate ID check
  if(employees.find(e => e.id === id)){
    alert("Employee ID already exists!");
    return;
  }

  let reader = new FileReader();
  reader.onload = function(e){
    let photoData = e.target.result; // Base64 string
    employees.push({id, name, photo: photoData, salary});
    localStorage.setItem("employees", JSON.stringify(employees));

    // Clear inputs
    empId.value = "";
    empName.value = "";
    empPhoto.value = "";
    empSalary.value = "";

    showEmployees();
  }
  reader.readAsDataURL(photoFile);
}

// Delete employee
function deleteEmployee(empId){
  if(confirm("Are you sure to delete this employee?")){
    employees = employees.filter(e => e.id !== empId);
    localStorage.setItem("employees", JSON.stringify(employees));
    showEmployees();
  }
}

// Show employee list
function showEmployees(){
  if(employees.length === 0){
    empList.innerHTML = "No employees added yet.";
    return;
  }
  empList.innerHTML = employees.map(e =>
    `<div class="empItem">
       <div class="empInfo">
         <img src="${e.photo}" width="50" height="50"> 
         <div>
           <b>${e.name}</b> (ID: ${e.id}) <br> â‚¹${e.salary}/day
         </div>
       </div>
       <button onclick="deleteEmployee('${e.id}')">Delete</button>
     </div>`).join("");
}

// Initial display
showEmployees();
</script>

</body>
</html>
